# OpenClaw GCP æ··åˆéƒ¨ç½²æœ€ä½³å®è·µ

  

> **æ¶æ„æ–¹æ¡ˆ**: GCP äº‘ç«¯ Gateway + å®¶åº­æœ¬åœ° Nodeï¼ˆä¸ªäººæ•°æ® APIï¼‰+ Discord ç§»åŠ¨å…¥å£

>

> ç¼–å†™æ—¶é—´ï¼š2026å¹´2æœˆ

>

> åŸºäº [OpenClaw æ·±åº¦è°ƒç ”æŠ¥å‘Š](./OpenClawæ·±åº¦è°ƒç ”æŠ¥å‘Š_2026å¹´2æœˆ.md) æ•´ç†

  

---

  

## ç›®å½•

  

1. [é¡¹ç›®æ¦‚è¿°ä¸æ¼”è¿›å†å²](#ä¸€é¡¹ç›®æ¦‚è¿°ä¸æ¼”è¿›å†å²)

2. [ç›®æ ‡ä¸å®šä½](#äºŒç›®æ ‡ä¸å®šä½)

3. [æ•´ä½“æŠ€æœ¯æ¶æ„è¯¦è§£](#ä¸‰æ•´ä½“æŠ€æœ¯æ¶æ„è¯¦è§£)

4. [å®‰å…¨ä¸é£é™©åˆ†æ](#å››å®‰å…¨ä¸é£é™©åˆ†æ)

5. [éƒ¨ç½²æœ€ä½³å®è·µæ•™ç¨‹](#äº”éƒ¨ç½²æœ€ä½³å®è·µæ•™ç¨‹)

  

---

  

## ä¸€ã€é¡¹ç›®æ¦‚è¿°ä¸æ¼”è¿›å†å²

  

### 1.1 ä»€ä¹ˆæ˜¯ OpenClaw

  

OpenClaw æ˜¯ä¸€æ¬¾**å¼€æºçš„è‡ªæ‰˜ç®¡ä¸ªäºº AI åŠ©ç†**ï¼Œç”±å¥¥åœ°åˆ©å¼€å‘è€… Peter Steinberger äº 2025 å¹´åº•åˆ›å»ºã€‚ä¸ä¼ ç»ŸèŠå¤©æœºå™¨äººä¸åŒï¼ŒOpenClaw æ˜¯ä¸€ä¸ªèƒ½å¤Ÿ**æ‰§è¡Œå®é™…ä»»åŠ¡**çš„è‡ªä¸»ä»£ç†â€”â€”å®ƒå¯ä»¥è¿è¡Œ shell å‘½ä»¤ã€ç®¡ç†æ–‡ä»¶ã€æ§åˆ¶æµè§ˆå™¨ã€å®‰æ’æ—¥ç¨‹ï¼Œå¹¶é€šè¿‡ä½ å¸¸ç”¨çš„æ¶ˆæ¯åº”ç”¨ä¸ä½ äº¤äº’ã€‚

  

**æ ¸å¿ƒç‰¹æ€§ï¼š**

- ğŸ¦ **æœ¬åœ°ä¼˜å…ˆ**ï¼šè¿è¡Œåœ¨ä½ è‡ªå·±çš„è®¾å¤‡ä¸Šï¼Œæ•°æ®ä¸ç¦»å¼€ä½ çš„æ§åˆ¶

- ğŸ”Œ **å¤šæ¸ é“æ•´åˆ**ï¼šç»Ÿä¸€æ¥å…¥ Discordã€WhatsAppã€Telegramã€Slack ç­‰ 10+ æ¶ˆæ¯å¹³å°

- ğŸ¤– **ä»£ç†é©±åŠ¨**ï¼šä¸åªæ˜¯å›ç­”é—®é¢˜ï¼Œè€Œæ˜¯æ‰§è¡Œä»»åŠ¡

- ğŸ”„ **æŒç»­è¿è¡Œ**ï¼š24/7 åå°è¿è¡Œï¼Œæ”¯æŒå®šæ—¶ä»»åŠ¡å’Œä¸»åŠ¨é€šçŸ¥

- ğŸ§© **æ¨¡å‹æ— å…³**ï¼šæ”¯æŒ Claudeã€GPTã€Gemini æˆ–æœ¬åœ°æ¨¡å‹ï¼ˆOllamaï¼‰

  

### 1.2 æ¼”è¿›å†ç¨‹

  

```text

  

2025å¹´11æœˆ 2025å¹´12æœˆ 2026å¹´1æœˆ 2026å¹´1æœˆæœ«

â”‚ â”‚ â”‚ â”‚

â–¼ â–¼ â–¼ â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚Clawdbot â”‚â”€â”€â”€â”€â–ºâ”‚è·å¾—å…³æ³¨ â”‚â”€â”€â”€â”€â”€â–ºâ”‚ç—…æ¯’å¼ä¼ æ’­ â”‚â”€â”€â”€â–ºâ”‚ OpenClaw â”‚

â”‚ å‘å¸ƒ â”‚ â”‚(Claude â”‚ â”‚72h 60K+ stars â”‚ â”‚ å®šå â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ Codeå) â”‚ â”‚Anthropicå•†æ ‡ â”‚ â”‚100K+stars â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚è¯·æ±‚â†’Moltbot â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

  

| æ—¶é—´èŠ‚ç‚¹ | äº‹ä»¶ | æ„ä¹‰ |

|----------|------|------|

| 2025å¹´11æœˆ | Clawdbot å…¬å¼€å‘å¸ƒ | é¡¹ç›®è¯ç”Ÿ |

| 2025å¹´12æœˆ | Claude Code å‘å¸ƒåå¼€å§‹è·å¾—å…³æ³¨ | å¼€å‘è€…ç¤¾åŒºè®¤å¯ |

| 2026å¹´1æœˆ24-27æ—¥ | 72å°æ—¶å†…è·å¾— 60,000+ GitHub stars | ç—…æ¯’å¼ä¼ æ’­ |

| 2026å¹´1æœˆ | å›  Anthropic å•†æ ‡è¯·æ±‚æ›´åä¸º Moltbot | åˆè§„è°ƒæ•´ |

| 2026å¹´1æœˆæœ« | æœ€ç»ˆå®šå OpenClawï¼Œç´¯è®¡ 100K+ stars | èº«ä»½ç¨³å®š |

| 2026å¹´1æœˆ31æ—¥ | OpenClawd.ai æ¨å‡ºæ‰˜ç®¡æœåŠ¡ | ç”Ÿæ€æˆç†Ÿ |

  

### 1.3 åˆ›å§‹äººèƒŒæ™¯

  

Peter Steinberger æ˜¯ä¸€ä½å¥¥åœ°åˆ©å¼€å‘è€…ï¼Œæ­¤å‰ä»¥çº¦ **1.19 äº¿ç¾å…ƒ**å°†å…¶å…¬å¸ PSPDFKit å‡ºå”®ç»™ Insight Partnersã€‚è¿™ä¸€èƒŒæ™¯ä¸ºé¡¹ç›®æä¾›äº†å¯ä¿¡åº¦å’ŒæŒç»­ç»´æŠ¤çš„ä¿éšœã€‚

  

---

  

## äºŒã€ç›®æ ‡ä¸å®šä½

  

### 2.1 æœ¬æ–¹æ¡ˆçš„ç›®æ ‡

  

æ„å»ºä¸€ä¸ª**å®‰å…¨ã€å®ç”¨ã€å¯æ‰©å±•**çš„ä¸ªäºº AI åŠ©ç†ç³»ç»Ÿï¼š

  

```text

  

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ è®¾è®¡ç›®æ ‡ â”‚

â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

â”‚ âœ… å®‰å…¨éš”ç¦» Gateway è¿è¡Œåœ¨ GCP äº‘ç«¯ï¼Œä¸ä¸ªäººæ•°æ®ç‰©ç†éš”ç¦» â”‚

â”‚ âœ… æ•°æ®ä¸»æƒ ä¸ªäººæ•°æ®ä¿ç•™åœ¨å®¶åº­æœ¬åœ°æœåŠ¡å™¨ï¼ŒæŒ‰éœ€æˆæƒè®¿é—® â”‚

â”‚ âœ… éšæ—¶éšåœ° é€šè¿‡ Discord ç§»åŠ¨ç«¯éšæ—¶ä¸ AI åŠ©ç†äº¤äº’ â”‚

â”‚ âœ… æˆæœ¬å¯æ§ GCP e2-small çº¦ $15/æœˆ + å®¶åº­æœåŠ¡å™¨é›¶é¢å¤–æˆæœ¬ â”‚

â”‚ âœ… éšç§ä¿æŠ¤ Tailscale ç§æœ‰ç½‘ç»œï¼Œä¸æš´éœ²å…¬ç½‘ç«¯å£ â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

  

### 2.2 é€‚ç”¨åœºæ™¯

  

| åœºæ™¯ | æè¿° |

|------|------|

| **ä¸ªäººçŸ¥è¯†ç®¡ç†** | è®© AI åŠ©ç†è®¿é—®ä½ çš„ç¬”è®°ã€æ–‡æ¡£ã€ä»£ç åº“å¹¶å›ç­”é—®é¢˜ |

| **ç”Ÿæ´»è‡ªåŠ¨åŒ–** | é€šè¿‡ Discord å®‰æ’æ—¥ç¨‹ã€ç®¡ç†ä»»åŠ¡ã€å‘é€æé†’ |

| **æ–‡ä»¶æ£€ç´¢** | "å¸®æˆ‘æ‰¾åˆ°ä¸Šå‘¨é‚£ä»½å…³äºé¡¹ç›®é¢„ç®—çš„ PDF" |

| **è·¨è®¾å¤‡åŒæ­¥** | åœ¨æ‰‹æœºä¸Šå‘èµ·ä»»åŠ¡ï¼ŒAI åœ¨å®¶åº­æœåŠ¡å™¨ä¸Šæ‰§è¡Œ |

| **éšç§æ•æ„Ÿæ“ä½œ** | å¤„ç†ä¸ªäººè´¢åŠ¡ã€å¥åº·è®°å½•ç­‰æ•æ„Ÿæ•°æ® |

  

### 2.3 ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ¶æ„

  

| æ¶æ„é€‰æ‹© | åŸå›  |

|----------|------|

| **GCP è¿è¡Œ Gateway** | é«˜å¯ç”¨ã€24/7 åœ¨çº¿ã€ä¸ä¸ªäººæ•°æ®éš”ç¦»ã€å…¨çƒç½‘ç»œåŠ é€Ÿ |

| **å®¶åº­æœåŠ¡å™¨ä½œä¸º Node** | æ•°æ®ä¸»æƒã€é›¶æ•°æ®ä¼ è¾“æˆæœ¬ã€åˆ©ç”¨ç°æœ‰ç¡¬ä»¶ |

| **Discord ä½œä¸ºå…¥å£** | è·¨å¹³å°ã€ç§»åŠ¨ç«¯ä½“éªŒå¥½ã€æ”¯æŒ Bot APIã€å…è´¹ |

| **Tailscale è¿æ¥** | é›¶é…ç½® VPNã€ç«¯åˆ°ç«¯åŠ å¯†ã€NAT ç©¿é€ã€æ— éœ€å…¬ç½‘ IP |

  

---

  

## ä¸‰ã€æ•´ä½“æŠ€æœ¯æ¶æ„è¯¦è§£

  

### 3.1 æ¶æ„æ€»è§ˆ

  

```text

  
  

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ Discord â”‚

â”‚ (ç§»åŠ¨/æ¡Œé¢) â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”‚ Bot API

â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ Google Cloud Platform â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚

â”‚ â”‚ GCP Compute Engine â”‚ â”‚

â”‚ â”‚ (e2-small) â”‚ â”‚

â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚

â”‚ â”‚ â”‚ OpenClaw Gateway (Docker) â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ Pi Agent â”‚ â”‚ WebSocket â”‚ â”‚ Control UI â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ (AI æ¨ç†) â”‚ â”‚ Server â”‚ â”‚ (ç®¡ç†é¢æ¿) â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ ws://127.0.0.1:18789 â”‚ â”‚ â”‚

â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ Tailscale Serve â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”‚

Tailscale VPN

(ç«¯åˆ°ç«¯åŠ å¯†)

â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ å®¶åº­ç½‘ç»œ â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚

â”‚ â”‚ å®¶åº­æœåŠ¡å™¨ (Home Node) â”‚ â”‚

â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚

â”‚ â”‚ â”‚ OpenClaw Node Host â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ system.run â”‚ â”‚ file.read â”‚ â”‚ Personal â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ (å‘½ä»¤æ‰§è¡Œ) â”‚ â”‚ file.write â”‚ â”‚ Data API â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ ä¸ªäººæ•°æ®ç›®å½• â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ ~/Documents ~/Notes ~/Projects ~/Photos â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚

â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

  

### 3.2 ç»„ä»¶èŒè´£è¯´æ˜

  

#### 3.2.1 GCP Gatewayï¼ˆäº‘ç«¯æ§åˆ¶å¹³é¢ï¼‰

  

| ç»„ä»¶ | èŒè´£ |

|------|------|

| **Gateway è¿›ç¨‹** | é•¿é©»æœåŠ¡ï¼Œç®¡ç†ä¼šè¯ã€è·¯ç”±æ¶ˆæ¯ã€åè°ƒå·¥å…·æ‰§è¡Œ |

| **Pi Agent** | AI æ¨ç†å¼•æ“ï¼Œè°ƒç”¨ LLM APIï¼ˆAnthropic/OpenAI/OpenRouterï¼‰ |

| **WebSocket Server** | ç»Ÿä¸€æ§åˆ¶å¹³é¢ï¼ŒNode å’Œå®¢æˆ·ç«¯é€šè¿‡ WS è¿æ¥ |

| **Discord Channel** | æ¥æ”¶ Discord Bot æ¶ˆæ¯ï¼Œè·¯ç”±åˆ° Agent |

| **Control UI** | Web ç®¡ç†é¢æ¿ï¼Œé…ç½®ã€ç›‘æ§ã€æ—¥å¿—æŸ¥çœ‹ |

  

**ä¸å­˜å‚¨çš„å†…å®¹ï¼š**

- âŒ ä¸ªäººæ–‡ä»¶å’Œæ•°æ®

- âŒ æ•æ„Ÿå‡­è¯ï¼ˆé€šè¿‡ Secret Manager ç®¡ç†ï¼‰

- âŒ é•¿æœŸå¯¹è¯å†å²ï¼ˆå¯é€‰æŒä¹…åŒ–åˆ°å®¶åº­ Nodeï¼‰

  

#### 3.2.2 Home Nodeï¼ˆå®¶åº­æœåŠ¡å™¨ï¼‰

  

| ç»„ä»¶ | èŒè´£ |

|------|------|

| **Node Host** | è¿æ¥ Gatewayï¼Œæš´éœ²æœ¬åœ°èƒ½åŠ› |

| **system.run** | å—æ§å‘½ä»¤æ‰§è¡Œï¼ˆç™½åå•æœºåˆ¶ï¼‰ |

| **file.read/write** | æ–‡ä»¶ç³»ç»Ÿè®¿é—®ï¼ˆé™å®šç›®å½•ï¼‰ |

| **Personal Data API** | è‡ªå®šä¹‰ Skill æä¾›ç»“æ„åŒ–æ•°æ®è®¿é—® |

  

**å­˜å‚¨çš„å†…å®¹ï¼š**

- âœ… æ‰€æœ‰ä¸ªäººæ–‡æ¡£ã€ç¬”è®°ã€é¡¹ç›®

- âœ… å¯¹è¯å†å²ï¼ˆå¯é€‰ï¼‰

- âœ… æ•æ„Ÿé…ç½®å’Œå‡­è¯

- âœ… æœ¬åœ°æ•°æ®åº“ï¼ˆSQLite/JSONï¼‰

  

#### 3.2.3 Discordï¼ˆç§»åŠ¨å…¥å£ï¼‰

  

| åŠŸèƒ½ | è¯´æ˜ |

|------|------|

| **DM å¯¹è¯** | ä¸ Bot ç§èŠï¼Œä¸€å¯¹ä¸€äº¤äº’ |

| **æœåŠ¡å™¨é¢‘é“** | åœ¨ç‰¹å®šé¢‘é“ @bot è§¦å‘ |

| **æ–œæ å‘½ä»¤** | `/ask`ã€`/search`ã€`/remind` ç­‰å¿«æ·æ“ä½œ |

| **ç§»åŠ¨é€šçŸ¥** | ä»»åŠ¡å®Œæˆã€å®šæ—¶æé†’æ¨é€åˆ°æ‰‹æœº |

  

### 3.3 æ•°æ®æµè¯¦è§£

  

```text

  

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ å…¸å‹è¯·æ±‚æµç¨‹ â”‚

â”‚ â”‚

â”‚ ç”¨æˆ· (Discord) â”‚

â”‚ â”‚ â”‚

â”‚ â”‚ 1. "å¸®æˆ‘æ‰¾åˆ°ä¸Šå‘¨çš„ä¼šè®®è®°å½•" â”‚

â”‚ â–¼ â”‚

â”‚ Discord Bot API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚

â”‚ â”‚ â”‚

â”‚ â”‚ 2. æ¶ˆæ¯è·¯ç”±åˆ° Gateway â”‚

â”‚ â–¼ â”‚

â”‚ GCP Gateway â”‚

â”‚ â”‚ â”‚

â”‚ â”‚ 3. Pi Agent åˆ†ææ„å›¾ï¼Œå†³å®šè°ƒç”¨ Home Node â”‚

â”‚ â–¼ â”‚

â”‚ Pi Agent â”€â”€â”€â”€â”€â–º LLM API (Anthropic Claude) â”‚

â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ â”‚ 4. è¿”å›å·¥å…·è°ƒç”¨å†³ç­– â”‚

â”‚ â”‚ â”‚ tool: "file.search" â”‚

â”‚ â”‚ â”‚ params: {pattern: "*ä¼šè®®*", date: "7d"} â”‚

â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â”‚ â”‚ â”‚

â”‚ â”‚ 5. é€šè¿‡ Tailscale è°ƒç”¨ Home Node â”‚

â”‚ â–¼ â”‚

â”‚ Home Node (via Tailscale) â”‚

â”‚ â”‚ â”‚

â”‚ â”‚ 6. æ‰§è¡Œæ–‡ä»¶æœç´¢ï¼Œè¿”å›ç»“æœ â”‚

â”‚ â”‚ files: ["ä¼šè®®è®°å½•_0125.md", "ä¼šè®®è®°å½•_0128.md"] â”‚

â”‚ â–¼ â”‚

â”‚ GCP Gateway â”‚

â”‚ â”‚ â”‚

â”‚ â”‚ 7. Agent æ•´ç†ç»“æœï¼Œç”Ÿæˆå›å¤ â”‚

â”‚ â–¼ â”‚

â”‚ Discord Bot API â”‚

â”‚ â”‚ â”‚

â”‚ â”‚ 8. "æ‰¾åˆ°2ä»½ä¼šè®®è®°å½•ï¼š..." â”‚

â”‚ â–¼ â”‚

â”‚ ç”¨æˆ· (Discord) â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

  

### 3.4 WebSocket åè®®

  

Gateway ä¸ Node ä¹‹é—´çš„é€šä¿¡åŸºäº JSON over WebSocketï¼š

  

```json

// Node è¿æ¥æ¡æ‰‹

{

"type": "connect",

"role": "node",

"nodeId": "home-server",

"token": "node_auth_token",

"capabilities": ["system.run", "file.read", "file.write", "file.search"]

}

  

// Gateway è°ƒç”¨ Node

{

"type": "node.invoke",

"nodeId": "home-server",

"command": "file.search",

"params": {

"pattern": "*ä¼šè®®*",

"path": "~/Documents",

"maxAge": "7d"

},

"requestId": "req_abc123"

}

  

// Node è¿”å›ç»“æœ

{

"type": "node.response",

"requestId": "req_abc123",

"success": true,

"data": {

"files": [

{"path": "~/Documents/ä¼šè®®è®°å½•_0125.md", "size": 2048},

{"path": "~/Documents/ä¼šè®®è®°å½•_0128.md", "size": 1536}

]

}

}

```

  

### 3.5 Tailscale ç½‘ç»œæ‹“æ‰‘

  

```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ Tailscale Tailnet â”‚

â”‚ (ç§æœ‰è™šæ‹Ÿç½‘ç»œ 100.x.x.x) â”‚

â”‚ â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚

â”‚ â”‚ GCP Instance â”‚ â”‚ Home Server â”‚ â”‚

â”‚ â”‚ 100.64.0.1 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ 100.64.0.2 â”‚ â”‚

â”‚ â”‚ â”‚ WireGuard â”‚ â”‚ â”‚

â”‚ â”‚ Gateway â”‚ Encrypted â”‚ Node Host â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ Tailscale Serve â”‚ â”‚

â”‚ â”‚ (HTTPS proxy) â”‚ â”‚

â”‚ â–¼ â”‚ â”‚

â”‚ https://gcp-gateway.tail1234.ts.net â”‚ â”‚

â”‚ â”‚ â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚

â”‚ â”‚ Mobile Phone â”‚ â”‚ â”‚

â”‚ â”‚ 100.64.0.3 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€--â”˜ â”‚

â”‚ â”‚ (å¯é€‰) â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

  

**Tailscale å…³é”®ç‰¹æ€§ï¼š**

- **NAT ç©¿é€**ï¼šå®¶åº­æœåŠ¡å™¨æ— éœ€å…¬ç½‘ IP æˆ–ç«¯å£è½¬å‘

- **ç«¯åˆ°ç«¯åŠ å¯†**ï¼šWireGuard åè®®ï¼Œæµé‡å…¨ç¨‹åŠ å¯†

- **èº«ä»½è®¤è¯**ï¼šè®¾å¤‡ç»‘å®š Tailscale è´¦æˆ·ï¼Œè‡ªåŠ¨è®¤è¯

- **Serve/Funnel**ï¼šå®‰å…¨æš´éœ²æœåŠ¡ï¼Œæ— éœ€å¼€æ”¾é˜²ç«å¢™

  

---

  

## å››ã€å®‰å…¨ä¸é£é™©åˆ†æ

  

### 4.1 å¨èƒæ¨¡å‹

  

```text

  

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ å¨èƒæ¥æº â”‚

â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

â”‚ â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚

â”‚ â”‚ å¤–éƒ¨æ”»å‡»è€… â”‚ â”‚ æ¶æ„è¾“å…¥ â”‚ â”‚ ä¾›åº”é“¾æ”»å‡» â”‚ â”‚

â”‚ â”‚ â”‚ â”‚ (Prompt â”‚ â”‚ (æ¶æ„ Skill) â”‚ â”‚

â”‚ â”‚ å°è¯•ç›´æ¥ â”‚ â”‚ Injection) â”‚ â”‚ â”‚ â”‚

â”‚ â”‚ è®¿é—®Gateway â”‚ â”‚ â”‚ â”‚ â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â”‚ â”‚ â”‚ â”‚ â”‚

â”‚ â–¼ â–¼ â–¼ â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚

â”‚ â”‚ æ”»å‡»é¢ â”‚ â”‚

â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚

â”‚ â”‚ â€¢ Gateway ç«¯å£æš´éœ² (å·²ç¼“è§£: Tailscale Serve) â”‚ â”‚

â”‚ â”‚ â€¢ Discord Bot Token æ³„éœ² â”‚ â”‚

â”‚ â”‚ â€¢ LLM API Key æ³„éœ² â”‚ â”‚

â”‚ â”‚ â€¢ Prompt Injection å¯¼è‡´éæˆæƒæ“ä½œ â”‚ â”‚

â”‚ â”‚ â€¢ æ¶æ„ Skill æ‰§è¡Œä»»æ„ä»£ç  â”‚ â”‚

â”‚ â”‚ â€¢ Home Node è¢«å…¥ä¾µå¯¼è‡´æ•°æ®æ³„éœ² â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

  

### 4.2 é£é™©çŸ©é˜µ

  

| é£é™© | å¯èƒ½æ€§ | å½±å“ | ç¼“è§£æªæ–½ |

|------|--------|------|----------|

| **Gateway å…¬ç½‘æš´éœ²** | ä½ | é«˜ | Tailscale Serveï¼Œä¸å¼€æ”¾å…¬ç½‘ç«¯å£ |

| **Prompt Injection** | ä¸­ | é«˜ | å·¥å…·ç™½åå•ã€æ‰§è¡Œå®¡æ‰¹ã€æ²™ç®±éš”ç¦» |

| **API Key æ³„éœ²** | ä½ | ä¸­ | GCP Secret Managerã€ç¯å¢ƒå˜é‡æ³¨å…¥ |

| **Discord Token æ³„éœ²** | ä½ | ä¸­ | å®šæœŸè½®æ¢ã€æœ€å°æƒé™ Bot |

| **æ¶æ„ Skill** | ä¸­ | é«˜ | ä»…ä½¿ç”¨å®˜æ–¹/å®¡æ ¸è¿‡çš„ Skill |

| **Home Node å…¥ä¾µ** | ä½ | é«˜ | Tailscale ACLã€å‘½ä»¤ç™½åå•ã€ç›®å½•é™åˆ¶ |

| **LLM æä¾›å•†æ•°æ®æ³„éœ²** | ä½ | ä¸­ | æ•æ„Ÿæ“ä½œæœ¬åœ°å¤„ç†ï¼Œè°¨æ…å‘é€å†…å®¹ |

  

### 4.3 å®‰å…¨æ¶æ„è®¾è®¡

  

```text

  

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ å®‰å…¨é˜²æŠ¤å±‚æ¬¡ â”‚

â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

â”‚ â”‚

â”‚ Layer 1: ç½‘ç»œéš”ç¦» â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚

â”‚ â”‚ â€¢ Gateway ç»‘å®š 127.0.0.1ï¼Œä¸ç›´æ¥æš´éœ² â”‚ â”‚

â”‚ â”‚ â€¢ Tailscale Serve ä»£ç†è®¿é—®ï¼Œè‡ªåŠ¨ HTTPS â”‚ â”‚

â”‚ â”‚ â€¢ Home Node æ— å…¬ç½‘ IPï¼Œä»… Tailscale å¯è¾¾ â”‚ â”‚

â”‚ â”‚ â€¢ GCP é˜²ç«å¢™ä»…å…è®¸ Tailscale å’Œ SSH (å¯é€‰) â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â”‚ â”‚

â”‚ Layer 2: è®¤è¯æˆæƒ â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚

â”‚ â”‚ â€¢ Gateway auth tokenï¼ˆfail-closedï¼‰ â”‚ â”‚

â”‚ â”‚ â€¢ Node pairing approvalï¼ˆæ˜¾å¼é…å¯¹ï¼‰ â”‚ â”‚

â”‚ â”‚ â€¢ Discord DM pairingï¼ˆç§èŠéœ€è®¤è¯ï¼‰ â”‚ â”‚

â”‚ â”‚ â€¢ Tailscale èº«ä»½éªŒè¯ï¼ˆè®¾å¤‡+ç”¨æˆ·åŒå› ç´ ï¼‰ â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â”‚ â”‚

â”‚ Layer 3: æ‰§è¡Œæ§åˆ¶ â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚

â”‚ â”‚ â€¢ Exec Approvalsï¼ˆå‘½ä»¤æ‰§è¡Œå®¡æ‰¹/ç™½åå•ï¼‰ â”‚ â”‚

â”‚ â”‚ â€¢ å·¥å…· allow/deny åˆ—è¡¨ â”‚ â”‚

â”‚ â”‚ â€¢ æ–‡ä»¶è®¿é—®ç›®å½•é™åˆ¶ï¼ˆchroot-likeï¼‰ â”‚ â”‚

â”‚ â”‚ â€¢ Docker æ²™ç®±éš”ç¦»ï¼ˆGateway å±‚ï¼‰ â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â”‚ â”‚

â”‚ Layer 4: ç›‘æ§å®¡è®¡ â”‚

â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚

â”‚ â”‚ â€¢ GCP Cloud Loggingï¼ˆGateway æ—¥å¿—ï¼‰ â”‚ â”‚

â”‚ â”‚ â€¢ å‘½ä»¤æ‰§è¡Œå†å²è®°å½• â”‚ â”‚

â”‚ â”‚ â€¢ Tailscale è¿æ¥æ—¥å¿— â”‚ â”‚

â”‚ â”‚ â€¢ å®šæœŸå®‰å…¨å®¡è®¡ï¼šopenclaw security audit â”‚ â”‚

â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

  

### 4.4 å®‰å…¨é…ç½®æ¸…å•

  

#### Gateway å®‰å…¨é…ç½® (GCP)

  

```json

// ~/.openclaw/openclaw.json

{

"gateway": {

"auth": {

"token": "${GATEWAY_AUTH_TOKEN}", // ä» Secret Manager æ³¨å…¥

"password": "${GATEWAY_PASSWORD}"

},

"bind": "127.0.0.1", // ä»…æœ¬åœ°ç»‘å®š

"port": 18789

},

"agent": {

"model": "anthropic/claude-sonnet-4-5"

},

"exec": {

"approvals": {

"security": "deny", // Gateway ä¸æ‰§è¡Œæœ¬åœ°å‘½ä»¤

"allowlist": []

}

},

"tools": {

"deny": ["exec", "process", "browser"] // Gateway ç¦ç”¨é«˜å±å·¥å…·

}

}

```

  

#### Home Node å®‰å…¨é…ç½®

  

```json

// ~/.openclaw/node-config.json

{

"node": {

"id": "home-server",

"capabilities": ["file.read", "file.write", "file.search", "system.run"]

},

"exec": {

"approvals": {

"security": "allowlist",

"allowlist": [

"ls", "cat", "head", "tail", "grep", "find",

"wc", "sort", "uniq", "date", "pwd"

],

"denylist": [

"rm -rf", "sudo", "chmod 777", "curl | bash",

"wget -O- | sh", "eval", "exec"

]

}

},

"files": {

"allowedPaths": [

"~/Documents",

"~/Notes",

"~/Projects",

"~/Downloads"

],

"deniedPaths": [

"~/.ssh",

"~/.gnupg",

"~/.config/openclaw/credentials",

"/etc",

"/var"

]

}

}

```

  

### 4.5 å®˜æ–¹å®‰å…¨å£°æ˜

  

> **"There is no 'perfectly secure' setup."** â€” OpenClaw å®˜æ–¹æ–‡æ¡£

  

è¯·åŠ¡å¿…ç†è§£ï¼š

- OpenClaw è®¾è®¡ä¸Šå¼ºè°ƒåŠŸèƒ½ä¼˜å…ˆï¼Œå®‰å…¨æ˜¯**é…ç½®é€‰é¡¹**è€Œéå†…ç½®ä¿è¯

- æœ¬æ–¹æ¡ˆé€šè¿‡æ¶æ„éš”ç¦»å’Œä¸¥æ ¼é…ç½®æ¥ç¼“è§£é£é™©

- ä¸å»ºè®®ç”¨äºå¤„ç†é«˜åº¦æ•æ„Ÿæ•°æ®ï¼ˆé‡‘èã€åŒ»ç–—ç­‰ï¼‰

- å®šæœŸæ›´æ–°å’Œå®‰å…¨å®¡è®¡æ˜¯å¿…è¦çš„æŒç»­å·¥ä½œ

  

---

  

## äº”ã€éƒ¨ç½²æœ€ä½³å®è·µæ•™ç¨‹

  

### 5.1 å‰ç½®å‡†å¤‡

  

#### 5.1.1 è´¦æˆ·å’Œå·¥å…·

  

| é¡¹ç›® | è¦æ±‚ | è·å–æ–¹å¼ |

|------|------|----------|

| **GCP è´¦æˆ·** | å¯ç”¨è®¡è´¹ | https://console.cloud.google.com |

| **Tailscale è´¦æˆ·** | å…è´¹ç‰ˆè¶³å¤Ÿ | https://tailscale.com |

| **Discord è´¦æˆ·** | åˆ›å»º Bot | https://discord.com/developers |

| **Anthropic API** | Claude API Key | https://console.anthropic.com |

| **å®¶åº­æœåŠ¡å™¨** | Linux/macOSï¼ŒNode.js â‰¥22 | ç°æœ‰è®¾å¤‡ |

  

#### 5.1.2 å®‰è£… gcloud CLI

  

```bash

# macOS

brew install google-cloud-sdk

  

# Linux

curl https://sdk.cloud.google.com | bash

exec -l $SHELL

  

# åˆå§‹åŒ–

gcloud init

gcloud auth login

```

  

#### 5.1.3 åˆ›å»º GCP é¡¹ç›®

  

```bash

# åˆ›å»ºé¡¹ç›®

gcloud projects create openclaw-personal --name="OpenClaw Personal"

  

# è®¾ç½®é»˜è®¤é¡¹ç›®

gcloud config set project openclaw-personal

  

# å¯ç”¨ Compute Engine API

gcloud services enable compute.googleapis.com

  

# å¯ç”¨ Secret Manager API

gcloud services enable secretmanager.googleapis.com

```

  

### 5.2 Step 1: è®¾ç½® Tailscale

  

#### 5.2.1 åˆ›å»º Tailscale è´¦æˆ·

  

1. è®¿é—® https://tailscale.com æ³¨å†Œè´¦æˆ·

2. è¿›å…¥ Admin Console: https://login.tailscale.com/admin

  

#### 5.2.2 ç”Ÿæˆ Auth Key

  

```bash

# åœ¨ Tailscale Admin Console ä¸­:

# Settings â†’ Keys â†’ Generate auth key

#

# é€‰é¡¹:

# - Reusable: No (ä¸€æ¬¡æ€§ä½¿ç”¨æ›´å®‰å…¨)

# - Ephemeral: No

# - Pre-authorized: Yes

# - Tags: tag:server (å¯é€‰)

#

# è®°å½•ç”Ÿæˆçš„ key: tskey-auth-xxxxx

```

  

#### 5.2.3 é…ç½® ACL (å¯é€‰ä½†æ¨è)

  

åœ¨ Tailscale Admin Console â†’ Access Controls ä¸­æ·»åŠ ï¼š

  

```json

{

"acls": [

// å…è®¸æ‰€æœ‰è®¾å¤‡äº’ç›¸è®¿é—®ï¼ˆç®€åŒ–ç‰ˆï¼‰

{"action": "accept", "src": ["*"], "dst": ["*:*"]},

// æˆ–æ›´ä¸¥æ ¼çš„è§„åˆ™ï¼š

// {"action": "accept", "src": ["tag:server"], "dst": ["tag:server:*"]},

// {"action": "accept", "src": ["autogroup:member"], "dst": ["tag:server:18789"]}

],

"tagOwners": {

"tag:server": ["autogroup:admin"]

}

}

```

  

### 5.3 Step 2: åˆ›å»º Discord Bot

  

#### 5.3.1 åˆ›å»º Application

  

1. è®¿é—® https://discord.com/developers/applications

2. ç‚¹å‡» "New Application"

3. å‘½åï¼š`OpenClaw Personal`

4. è¿›å…¥ Bot è®¾ç½®é¡µé¢

  

#### 5.3.2 é…ç½® Bot

  

```

# åœ¨ Bot é¡µé¢:

  

1. ç‚¹å‡» "Reset Token" ç”Ÿæˆ Bot Token

- è®°å½• Token: MTIzNDU2Nzg5... (ä»…æ˜¾ç¤ºä¸€æ¬¡!)

  

2. å¯ç”¨ Privileged Gateway Intents:

â˜‘ï¸ MESSAGE CONTENT INTENT

â˜‘ï¸ SERVER MEMBERS INTENT (å¦‚éœ€ç¾¤ç»„åŠŸèƒ½)

  

3. åœ¨ OAuth2 â†’ URL Generator:

- Scopes: bot, applications.commands

- Bot Permissions:

â˜‘ï¸ Send Messages

â˜‘ï¸ Read Message History

â˜‘ï¸ Use Slash Commands

â˜‘ï¸ Attach Files

â˜‘ï¸ Embed Links

```

  

#### 5.3.3 é‚€è¯· Bot åˆ°æœåŠ¡å™¨

  

1. å¤åˆ¶ç”Ÿæˆçš„ OAuth2 URL

2. åœ¨æµè§ˆå™¨æ‰“å¼€ï¼Œé€‰æ‹©ä½ çš„æœåŠ¡å™¨

3. æˆæƒ Bot åŠ å…¥

  

### 5.4 Step 3: éƒ¨ç½² GCP Gateway

  

#### 5.4.1 å­˜å‚¨æ•æ„Ÿå‡­è¯åˆ° Secret Manager

  

```bash

# åˆ›å»º secrets

echo -n "your-anthropic-api-key" | \

gcloud secrets create anthropic-api-key --data-file=-

  

echo -n "your-discord-bot-token" | \

gcloud secrets create discord-bot-token --data-file=-

  

echo -n "your-gateway-auth-token" | \

gcloud secrets create gateway-auth-token --data-file=-

  

echo -n "tskey-auth-xxxxx" | \

gcloud secrets create tailscale-auth-key --data-file=-

  

# éªŒè¯

gcloud secrets list

```

  

#### 5.4.2 åˆ›å»º VM å®ä¾‹

  

```bash

# åˆ›å»ºå®ä¾‹

gcloud compute instances create openclaw-gateway \

--zone=asia-east1-a \

--machine-type=e2-small \

--boot-disk-size=30GB \

--boot-disk-type=pd-balanced \

--image-family=debian-12 \

--image-project=debian-cloud \

--tags=openclaw \

--metadata-from-file=startup-script=startup-script.sh \

--service-account=default \

--scopes=cloud-platform

```

  

#### 5.4.3 åˆ›å»ºå¯åŠ¨è„šæœ¬ (startup-script.sh)

  

```bash

#!/bin/bash

set -e

  

# ============================================

# OpenClaw GCP Gateway Startup Script

# ============================================

  

LOG_FILE="/var/log/openclaw-setup.log"

exec > >(tee -a "$LOG_FILE") 2>&1

echo "=== OpenClaw Setup Started at $(date) ==="

  

# 1. ç³»ç»Ÿæ›´æ–°

apt-get update && apt-get upgrade -y

apt-get install -y curl git jq

  

# 2. å®‰è£… Node.js 22

curl -fsSL https://deb.nodesource.com/setup_22.x | bash -

apt-get install -y nodejs

  

# 3. å®‰è£… Docker

curl -fsSL https://get.docker.com | sh

systemctl enable docker

systemctl start docker

  

# 4. å®‰è£… Tailscale

curl -fsSL https://tailscale.com/install.sh | sh

  

# 5. è·å– Secrets

TAILSCALE_KEY=$(gcloud secrets versions access latest --secret="tailscale-auth-key")

ANTHROPIC_KEY=$(gcloud secrets versions access latest --secret="anthropic-api-key")

DISCORD_TOKEN=$(gcloud secrets versions access latest --secret="discord-bot-token")

GATEWAY_TOKEN=$(gcloud secrets versions access latest --secret="gateway-auth-token")

  

# 6. å¯åŠ¨ Tailscale

tailscale up --authkey="$TAILSCALE_KEY" --hostname=openclaw-gateway

  

# 7. åˆ›å»º openclaw ç”¨æˆ·

useradd -m -s /bin/bash openclaw || true

usermod -aG docker openclaw

  

# 8. å®‰è£… OpenClaw

sudo -u openclaw bash << 'OPENCLAW_SETUP'

cd ~

npm install -g openclaw@latest

  

# åˆ›å»ºé…ç½®ç›®å½•

mkdir -p ~/.openclaw

  

# å†™å…¥é…ç½®

cat > ~/.openclaw/openclaw.json << EOF

{

"gateway": {

"auth": {

"token": "${GATEWAY_TOKEN}"

},

"bind": "127.0.0.1",

"port": 18789

},

"agent": {

"model": "anthropic/claude-sonnet-4-5"

},

"channels": {

"discord": {

"enabled": true,

"token": "${DISCORD_TOKEN}",

"dmPolicy": "pairing"

}

},

"exec": {

"approvals": {

"security": "deny"

}

},

"tools": {

"deny": ["exec", "process"]

}

}

EOF

  

# è®¾ç½®ç¯å¢ƒå˜é‡

cat > ~/.openclaw/.env << EOF

ANTHROPIC_API_KEY=${ANTHROPIC_KEY}

DISCORD_BOT_TOKEN=${DISCORD_TOKEN}

EOF

OPENCLAW_SETUP

  

# 9. åˆ›å»º systemd æœåŠ¡

cat > /etc/systemd/system/openclaw-gateway.service << 'EOF'

[Unit]

Description=OpenClaw Gateway

After=network.target tailscaled.service

  

[Service]

Type=simple

User=openclaw

WorkingDirectory=/home/openclaw

EnvironmentFile=/home/openclaw/.openclaw/.env

ExecStart=/usr/bin/openclaw gateway --port 18789

Restart=always

RestartSec=10

  

[Install]

WantedBy=multi-user.target

EOF

  

# 10. å¯åŠ¨æœåŠ¡

systemctl daemon-reload

systemctl enable openclaw-gateway

systemctl start openclaw-gateway

  

# 11. é…ç½® Tailscale Serve

sleep 10 # ç­‰å¾… Gateway å¯åŠ¨

tailscale serve --bg https+insecure://127.0.0.1:18789

  

echo "=== OpenClaw Setup Completed at $(date) ==="

```

  

#### 5.4.4 éƒ¨ç½²å¹¶éªŒè¯

  

```bash

# ä¸Šä¼ å¯åŠ¨è„šæœ¬å¹¶åˆ›å»ºå®ä¾‹

gcloud compute instances create openclaw-gateway \

--zone=asia-east1-a \

--machine-type=e2-small \

--boot-disk-size=30GB \

--image-family=debian-12 \

--image-project=debian-cloud \

--metadata-from-file=startup-script=startup-script.sh \

--scopes=cloud-platform

  

# ç­‰å¾… 5-10 åˆ†é’Ÿï¼Œæ£€æŸ¥æ—¥å¿—

gcloud compute ssh openclaw-gateway --zone=asia-east1-a --command="tail -100 /var/log/openclaw-setup.log"

  

# æ£€æŸ¥æœåŠ¡çŠ¶æ€

gcloud compute ssh openclaw-gateway --zone=asia-east1-a --command="systemctl status openclaw-gateway"

  

# æ£€æŸ¥ Tailscale çŠ¶æ€

gcloud compute ssh openclaw-gateway --zone=asia-east1-a --command="tailscale status"

```

  

### 5.5 Step 4: éƒ¨ç½² Home Node

  

#### 5.5.1 åœ¨å®¶åº­æœåŠ¡å™¨ä¸Šå®‰è£… Tailscale

  

```bash

# Linux

curl -fsSL https://tailscale.com/install.sh | sh

sudo tailscale up --hostname=home-server

  

# macOS

brew install tailscale

tailscale up --hostname=home-server

```

  

#### 5.5.2 å®‰è£… OpenClaw Node

  

```bash

# å®‰è£… Node.js 22+

# Ubuntu/Debian

curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash -

sudo apt-get install -y nodejs

  

# macOS

brew install node@22

  

# å®‰è£… OpenClaw

npm install -g openclaw@latest

```

  

#### 5.5.3 é…ç½® Home Node

  

```bash

# åˆ›å»ºé…ç½®ç›®å½•

mkdir -p ~/.openclaw

  

# åˆ›å»º Node é…ç½®

cat > ~/.openclaw/node-config.json << 'EOF'

{

"node": {

"id": "home-server",

"name": "Home Server",

"gateway": "wss://openclaw-gateway.tail12345.ts.net",

"token": "your-gateway-auth-token"

},

"capabilities": {

"system.run": true,

"file.read": true,

"file.write": true,

"file.search": true

},

"exec": {

"approvals": {

"security": "allowlist",

"allowlist": [

"ls", "cat", "head", "tail", "grep", "find", "wc",

"sort", "uniq", "date", "pwd", "tree", "file",

"stat", "du -sh", "df -h"

]

}

},

"files": {

"allowedPaths": [

"~/Documents",

"~/Notes",

"~/Projects",

"~/Downloads",

"~/Pictures"

]

}

}

EOF

```

  

#### 5.5.4 åˆ›å»ºè‡ªå®šä¹‰ Personal Data Skill

  

```bash

# åˆ›å»º Skill ç›®å½•

mkdir -p ~/.openclaw/skills/personal-data

  

# åˆ›å»º SKILL.md

cat > ~/.openclaw/skills/personal-data/SKILL.md << 'EOF'

---

name: personal-data

description: Access and search personal files and notes on the home server

version: 1.0.0

author: self

triggers:

- find my

- search for

- look for

- where is

tools:

- file.read

- file.search

- system.run

---

  

# Personal Data Access Skill

  

This skill provides access to personal files stored on the home server.

  

## Capabilities

  

- Search files by name or content

- Read document contents

- List directory contents

- Get file metadata

  

## Usage Examples

  

- "Find my tax documents from 2025"

- "Search for notes containing 'project ideas'"

- "What's in my Downloads folder?"

- "Read the meeting notes from last week"

  

## Security

  

- Only files in allowed directories are accessible

- No deletion or modification of system files

- All access is logged

EOF

  

# åˆ›å»ºè¾…åŠ©è„šæœ¬

cat > ~/.openclaw/skills/personal-data/search.sh << 'EOF'

#!/bin/bash

# Search files by pattern

pattern="$1"

path="${2:-$HOME/Documents}"

find "$path" -type f -name "*$pattern*" 2>/dev/null | head -20

EOF

chmod +x ~/.openclaw/skills/personal-data/search.sh

```

  

#### 5.5.5 å¯åŠ¨ Node Host

  

```bash

# æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•

openclaw node host --config ~/.openclaw/node-config.json --verbose

  

# åˆ›å»º systemd æœåŠ¡ (Linux)

sudo cat > /etc/systemd/system/openclaw-node.service << 'EOF'

[Unit]

Description=OpenClaw Node Host

After=network.target tailscaled.service

  

[Service]

Type=simple

User=your-username

WorkingDirectory=/home/your-username

ExecStart=/usr/bin/openclaw node host --config /home/your-username/.openclaw/node-config.json

Restart=always

RestartSec=10

  

[Install]

WantedBy=multi-user.target

EOF

  

sudo systemctl daemon-reload

sudo systemctl enable openclaw-node

sudo systemctl start openclaw-node

  

# macOS launchd

cat > ~/Library/LaunchAgents/com.openclaw.node.plist << 'EOF'

<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">

<plist version="1.0">

<dict>

<key>Label</key>

<string>com.openclaw.node</string>

<key>ProgramArguments</key>

<array>

<string>/usr/local/bin/openclaw</string>

<string>node</string>

<string>host</string>

</array>

<key>RunAtLoad</key>

<true/>

<key>KeepAlive</key>

<true/>

</dict>

</plist>

EOF

  

launchctl load ~/Library/LaunchAgents/com.openclaw.node.plist

```

  

### 5.6 Step 5: é…ç½® Discord é›†æˆ

  

#### 5.6.1 éªŒè¯ Bot è¿æ¥

  

åœ¨ Discord ä¸­å‘ Bot å‘é€ç§ä¿¡ï¼š

  

```

ä½ å¥½ï¼Œä½ èƒ½åšä»€ä¹ˆï¼Ÿ

```

  

å¦‚æœæ”¶åˆ°å›å¤ï¼Œè¯´æ˜åŸºç¡€è¿æ¥æ­£å¸¸ã€‚

  

#### 5.6.2 é…ç½® DM Pairing

  

é¦–æ¬¡ç§ä¿¡æ—¶ï¼Œéœ€è¦å®Œæˆé…å¯¹ï¼š

  

```bash

# åœ¨ GCP Gateway ä¸ŠæŸ¥çœ‹é…å¯¹è¯·æ±‚

gcloud compute ssh openclaw-gateway --zone=asia-east1-a \

--command="openclaw pairing list"

  

# æ‰¹å‡†é…å¯¹

gcloud compute ssh openclaw-gateway --zone=asia-east1-a \

--command="openclaw pairing approve discord <pairing-code>"

```

  

#### 5.6.3 é…ç½®æœåŠ¡å™¨é¢‘é“

  

åœ¨ä½ çš„ Discord æœåŠ¡å™¨ä¸­åˆ›å»º `#ai-assistant` é¢‘é“ï¼Œç„¶åé…ç½® Gatewayï¼š

  

```bash

# SSH åˆ° GCP å®ä¾‹

gcloud compute ssh openclaw-gateway --zone=asia-east1-a

  

# ç¼–è¾‘é…ç½®

nano ~/.openclaw/openclaw.json

```

  

æ·»åŠ é¢‘é“é…ç½®ï¼š

  

```json

{

"channels": {

"discord": {

"enabled": true,

"token": "${DISCORD_BOT_TOKEN}",

"dmPolicy": "pairing",

"guilds": {

"*": {

"requireMention": true

},

"your-server-id": {

"allowFrom": ["*"],

"channels": {

"ai-assistant": {

"requireMention": false,

"skills": ["personal-data"],

"systemPrompt": "You are a helpful personal assistant with access to the user's home server files."

}

}

}

}

}

}

}

```

  

é‡å¯ Gatewayï¼š

  

```bash

sudo systemctl restart openclaw-gateway

```

  

### 5.7 Step 6: éªŒè¯å®Œæ•´ç³»ç»Ÿ

  

#### 5.7.1 æµ‹è¯•åŸºç¡€å¯¹è¯

  

åœ¨ Discord ç§ä¿¡ä¸­ï¼š

  

```

ä½ å¥½ï¼Œç°åœ¨å‡ ç‚¹äº†ï¼Ÿ

```

  

#### 5.7.2 æµ‹è¯• Home Node è¿æ¥

  

```

æˆ‘çš„ home-server èŠ‚ç‚¹åœ¨çº¿å—ï¼Ÿ

```

  

#### 5.7.3 æµ‹è¯•æ–‡ä»¶è®¿é—®

  

```

å¸®æˆ‘åˆ—å‡º Documents æ–‡ä»¶å¤¹çš„å†…å®¹

```

  

```

æœç´¢æˆ‘æœ€è¿‘ä¿®æ”¹çš„ç¬”è®°æ–‡ä»¶

```

  

```

è¯»å–ä¸€ä¸‹ ~/Documents/notes.md çš„å†…å®¹

```

  

#### 5.7.4 æ£€æŸ¥æ—¥å¿—

  

```bash

# GCP Gateway æ—¥å¿—

gcloud compute ssh openclaw-gateway --zone=asia-east1-a \

--command="journalctl -u openclaw-gateway -f"

  

# Home Node æ—¥å¿—

journalctl -u openclaw-node -f # Linux

# æˆ–

tail -f ~/.openclaw/logs/node.log

```

  

### 5.8 è¿ç»´ä¸ç›‘æ§

  

#### 5.8.1 å®šæœŸå®‰å…¨å®¡è®¡

  

```bash

# æ¯å‘¨è¿è¡Œ

openclaw security audit --fix

  

# æ£€æŸ¥æš´éœ²çš„ç«¯å£

gcloud compute ssh openclaw-gateway --zone=asia-east1-a \

--command="ss -tlnp"

```

  

#### 5.8.2 æ›´æ–° OpenClaw

  

```bash

# GCP Gateway

gcloud compute ssh openclaw-gateway --zone=asia-east1-a --command="

sudo -u openclaw npm update -g openclaw@latest

sudo systemctl restart openclaw-gateway

"

  

# Home Node

npm update -g openclaw@latest

sudo systemctl restart openclaw-node # Linux

# æˆ–

launchctl unload ~/Library/LaunchAgents/com.openclaw.node.plist

launchctl load ~/Library/LaunchAgents/com.openclaw.node.plist

```

  

#### 5.8.3 å¤‡ä»½é…ç½®

  

```bash

# å¤‡ä»½ GCP é…ç½®

gcloud compute ssh openclaw-gateway --zone=asia-east1-a --command="

tar -czf /tmp/openclaw-backup.tar.gz ~/.openclaw

"

gcloud compute scp openclaw-gateway:/tmp/openclaw-backup.tar.gz ./backup/ --zone=asia-east1-a

  

# å¤‡ä»½ Home Node é…ç½®

tar -czf ~/openclaw-home-backup.tar.gz ~/.openclaw

```

  

#### 5.8.4 æˆæœ¬ç›‘æ§

  

```bash

# æŸ¥çœ‹ GCP è´¹ç”¨

gcloud billing accounts list

gcloud billing projects describe openclaw-personal

  

# é¢„ä¼°æœˆè´¹ï¼š

# - e2-small: ~$13/æœˆ

# - 30GB disk: ~$2/æœˆ

# - ç½‘ç»œå‡ºå£: ~$1/æœˆ (å–å†³äºä½¿ç”¨é‡)

# - æ€»è®¡: ~$16/æœˆ

```

  

### 5.9 æ•…éšœæ’é™¤

  

#### å¸¸è§é—®é¢˜

  

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |

|------|----------|----------|

| Discord Bot æ— å“åº” | Token é”™è¯¯æˆ– Intent æœªå¯ç”¨ | æ£€æŸ¥ Tokenï¼Œå¯ç”¨ MESSAGE CONTENT INTENT |

| Home Node ç¦»çº¿ | Tailscale æ–­è¿ | æ£€æŸ¥ `tailscale status`ï¼Œé‡æ–°è®¤è¯ |

| æ–‡ä»¶è®¿é—®è¢«æ‹’ | è·¯å¾„ä¸åœ¨ç™½åå• | æ£€æŸ¥ `files.allowedPaths` é…ç½® |

| å‘½ä»¤æ‰§è¡Œå¤±è´¥ | ä¸åœ¨ allowlist | æ·»åŠ å‘½ä»¤åˆ° `exec.approvals.allowlist` |

| Gateway å¯åŠ¨å¤±è´¥ | ç«¯å£å†²çªæˆ–é…ç½®é”™è¯¯ | æ£€æŸ¥æ—¥å¿— `journalctl -u openclaw-gateway` |

  

#### è¯Šæ–­å‘½ä»¤

  

```bash

# Gateway å¥åº·æ£€æŸ¥

curl http://127.0.0.1:18789/health

  

# Node è¿æ¥çŠ¶æ€

openclaw nodes list

  

# Tailscale è¯Šæ–­

tailscale status

tailscale ping openclaw-gateway # ä» Home Node

tailscale ping home-server # ä» GCP

  

# OpenClaw è¯Šæ–­

openclaw doctor

```

  

---

  

## é™„å½•

  

### A. å®Œæ•´é…ç½®æ–‡ä»¶å‚è€ƒ

  

<details>

<summary>GCP Gateway å®Œæ•´é…ç½® (~/.openclaw/openclaw.json)</summary>

  

```json

{

"gateway": {

"auth": {

"token": "${GATEWAY_AUTH_TOKEN}"

},

"bind": "127.0.0.1",

"port": 18789

},

"agent": {

"model": "anthropic/claude-sonnet-4-5",

"systemPrompt": "You are a helpful personal AI assistant. You have access to a home server with the user's personal files. Be concise and helpful."

},

"channels": {

"discord": {

"enabled": true,

"token": "${DISCORD_BOT_TOKEN}",

"dmPolicy": "pairing",

"guilds": {

"*": {

"requireMention": true

}

}

}

},

"agents": {

"list": [

{

"id": "default",

"workspace": "~/.openclaw/workspace"

}

]

},

"exec": {

"approvals": {

"security": "deny"

}

},

"tools": {

"allow": [

"sessions_list",

"sessions_history",

"discord",

"nodes"

],

"deny": [

"exec",

"process",

"browser"

]

},

"nodes": {

"allowRemote": true

}

}

```

  

</details>

  

<details>

<summary>Home Node å®Œæ•´é…ç½® (~/.openclaw/node-config.json)</summary>

  

```json

{

"node": {

"id": "home-server",

"name": "Home Server",

"gateway": "wss://openclaw-gateway.tail12345.ts.net",

"token": "${GATEWAY_AUTH_TOKEN}"

},

"capabilities": {

"system.run": true,

"file.read": true,

"file.write": false,

"file.search": true,

"file.list": true

},

"exec": {

"approvals": {

"security": "allowlist",

"allowlist": [

"ls", "ls -la", "ls -lh",

"cat", "head", "head -n", "tail", "tail -n",

"grep", "grep -r", "grep -i",

"find", "find . -name", "find . -type",

"wc", "wc -l",

"sort", "uniq",

"date", "pwd",

"tree", "tree -L",

"file",

"stat",

"du -sh",

"df -h"

],

"denylist": [

"rm", "rmdir",

"mv", "cp",

"chmod", "chown",

"sudo", "su",

"curl", "wget",

"eval", "exec",

"bash -c", "sh -c",

"|", "&&", "||", ";", ">", ">>", "<"

]

}

},

"files": {

"allowedPaths": [

"~/Documents",

"~/Notes",

"~/Projects",

"~/Downloads",

"~/Pictures",

"~/Music"

],

"deniedPaths": [

"~/.ssh",

"~/.gnupg",

"~/.config",

"~/.local",

"~/.*",

"/etc",

"/var",

"/usr",

"/bin",

"/sbin"

],

"maxFileSize": "10MB",

"allowedExtensions": [

".txt", ".md", ".json", ".yaml", ".yml",

".pdf", ".doc", ".docx",

".xls", ".xlsx", ".csv",

".jpg", ".jpeg", ".png", ".gif",

".py", ".js", ".ts", ".go", ".rs",

".sh", ".bash"

]

},

"logging": {

"level": "info",

"file": "~/.openclaw/logs/node.log"

}

}

```

  

</details>

  

### B. å‚è€ƒé“¾æ¥

  

| èµ„æº | é“¾æ¥ |

|------|------|

| OpenClaw å®˜æ–¹æ–‡æ¡£ | https://docs.openclaw.ai |

| OpenClaw GitHub | https://github.com/openclaw/openclaw |

| GCP éƒ¨ç½²æ–‡æ¡£ | https://docs.openclaw.ai/platforms/gcp |

| Discord é›†æˆæ–‡æ¡£ | https://docs.openclaw.ai/channels/discord |

| Tailscale æ–‡æ¡£ | https://docs.openclaw.ai/gateway/tailscale |

| Node é…ç½®æ–‡æ¡£ | https://docs.openclaw.ai/nodes |

| å®‰å…¨æŒ‡å— | https://docs.openclaw.ai/gateway/security |

| Tailscale å®˜æ–¹ | https://tailscale.com/kb |

| Discord Developer | https://discord.com/developers/docs |

| GCP Compute Engine | https://cloud.google.com/compute/docs |

  

### C. æˆæœ¬ä¼°ç®—

  

| é¡¹ç›® | æœˆè´¹ç”¨ï¼ˆä¼°ç®—ï¼‰ |

|------|----------------|

| GCP e2-small | $13.00 |

| GCP 30GB SSD | $2.40 |

| GCP ç½‘ç»œå‡ºå£ (1GB) | $0.12 |

| Tailscale (å…è´¹ç‰ˆ) | $0.00 |

| Discord Bot | $0.00 |

| Anthropic Claude (æŒ‰é‡) | $5-50 (å–å†³äºä½¿ç”¨é‡) |

| **æ€»è®¡** | **~$20-70/æœˆ** |

  

---

  

#OpenClaw #GCP #Discord #Tailscale #æœ€ä½³å®è·µ #æ··åˆéƒ¨ç½² #ä¸ªäººAIåŠ©ç†