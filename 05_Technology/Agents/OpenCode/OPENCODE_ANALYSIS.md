# OpenCode MCP å·¥å…·å’ŒæŠ€æœ¯åŠŸèƒ½å®Œæ•´åˆ†ææŠ¥å‘Š

> **åˆ†ææ—¶é—´**: 2026-01-25  
> **OpenCodeç‰ˆæœ¬**: v0.1.0 (åŸºäºObsidianæ’ä»¶åˆ†æ)

---

## ğŸ“‹ ç›®å½•

1. [å½“å‰ç¯å¢ƒæ¦‚è§ˆ](#1-å½“å‰ç¯å¢ƒæ¦‚è§ˆ)
2. [å†…ç½®å·¥å…·åˆ—è¡¨](#2-å†…ç½®å·¥å…·åˆ—è¡¨)
3. [MCPæœåŠ¡å™¨é›†æˆ](#3-mcpæœåŠ¡å™¨é›†æˆ)
4. [æŠ€æœ¯æ¶æ„åˆ†æ](#4-æŠ€æœ¯æ¶æ„åˆ†æ)
5. [å·¥å…·æƒé™ç³»ç»Ÿ](#5-å·¥å…·æƒé™ç³»ç»Ÿ)
6. [WebSearchå·¥å…·è¯¦è§£](#6-websearchå·¥å…·è¯¦è§£)
7. [æ‰©å±•ç”Ÿæ€ç³»ç»Ÿ](#7-æ‰©å±•ç”Ÿæ€ç³»ç»Ÿ)
8. [é…ç½®å»ºè®®](#8-é…ç½®å»ºè®®)

---

## 1. å½“å‰ç¯å¢ƒæ¦‚è§ˆ

### 1.1 åŸºæœ¬ä¿¡æ¯
- **å¹³å°**: Obsidian + OpenCode æ’ä»¶
- **é…ç½®æ–‡ä»¶**: `/home/lenovo/.config/opencode/opencode.json`
- **æ’ä»¶ç›®å½•**: `/home/lenovo/Obsidian/.obsidian/plugins/opencode-obsidian/`
- **è¿›ç¨‹ç®¡ç†**: æœ¬åœ°OpenCodeæœåŠ¡å™¨ (14096ç«¯å£)

### 1.2 æ ¸å¿ƒç»„ä»¶
- **ProcessManager**: Node.jså­è¿›ç¨‹ç®¡ç†
- **OpenCodeView**: Obsidianå†…åµŒiframeè§†å›¾
- **çŠ¶æ€æœº**: `stopped` | `starting` | `running` | `error`
- **æƒé™ç³»ç»Ÿ**: ç»†ç²’åº¦å·¥å…·æ§åˆ¶

---

## 2. å†…ç½®å·¥å…·åˆ—è¡¨

### 2.1 æ–‡ä»¶æ“ä½œå·¥å…·

| å·¥å…·å | åŠŸèƒ½æè¿° | æƒé™ç±»å‹ | ç”¨æ³•ç¤ºä¾‹ |
|--------|----------|----------|----------|
| **read** | è¯»å–æ–‡ä»¶å†…å®¹ | é»˜è®¤å…è®¸ | `è¯»å–å®Œæ•´æ–‡ä»¶` |
| **write** | å†™å…¥æ–‡ä»¶å†…å®¹ | é»˜è®¤å…è®¸ | `åˆ›å»ºæ–°æ–‡ä»¶` |
| **edit** | ç¼–è¾‘æ–‡ä»¶ï¼ˆç²¾ç¡®æ›¿æ¢ï¼‰ | é»˜è®¤å…è®¸ | `ä¿®æ”¹ç°æœ‰æ–‡ä»¶` |
| **glob** | æ–‡ä»¶æ¨¡å¼åŒ¹é…æœç´¢ | é»˜è®¤å…è®¸ | `æ‰¹é‡æŸ¥æ‰¾æ–‡ä»¶` |
| **ls** | ç›®å½•åˆ—è¡¨ | é»˜è®¤å…è®¸ | `æµè§ˆç›®å½•ç»“æ„` |

### 2.2 Shellæ‰§è¡Œå·¥å…·

| å·¥å…·å | åŠŸèƒ½æè¿° | æƒé™ç±»å‹ | å®‰å…¨æ§åˆ¶ |
|--------|----------|----------|----------|
| **bash** | æ‰§è¡ŒShellå‘½ä»¤ | å¯é…ç½®(allow/ask/deny) | éœ€è¦ç”¨æˆ·ç¡®è®¤çš„å±é™©æ“ä½œ |
| **git** | Gitç‰ˆæœ¬æ§åˆ¶å‘½ä»¤ | ç»§æ‰¿bashæƒé™ | è‡ªåŠ¨æäº¤ã€æ¨é€ã€æ‹‰å– |

### 2.3 Webç›¸å…³å·¥å…·

| å·¥å…·å | åŠŸèƒ½æè¿° | æŠ€æœ¯å®ç° | ç”¨ä¾‹ |
|--------|----------|----------|----------|
| **webfetch** | è·å–ç½‘é¡µå†…å®¹å¹¶è½¬æ¢æ ¼å¼ | HTTPå®¢æˆ·ç«¯ + Markdownè½¬æ¢ | è·å–æ–‡æ¡£ã€APIå“åº” |
| **websearch** | å®æ—¶ç½‘ç»œæœç´¢ | **Exa AIæœç´¢å¼•æ“** | ç ”ç©¶æŠ€æœ¯æ–‡æ¡£ã€æŸ¥æ‰¾èµ„æº |
| **codesearch** | ä¸“é—¨çš„ä»£ç æœç´¢API | **Exa Code API** | æŸ¥æ‰¾ä»£ç ç¤ºä¾‹ã€åº“æ–‡æ¡£ |

---

## 3. MCPæœåŠ¡å™¨é›†æˆ

### 3.1 å½“å‰MCPé…ç½®

#### ä¸»é…ç½®æ–‡ä»¶ (`~/.config/opencode/opencode.json`)
```json
{
  "mcp": {
    "brave-search": {
      "type": "local",
      "command": ["npx", "-y", "@brave/brave-search-mcp-server"],
      "enabled": true,
      "timeout": 30000,
      "environment": {
        "BRAVE_API_KEY": "{env:BRAVE_API_KEY}"
      }
    }
  }
}
```

### 3.2 æ”¯æŒçš„MCPæœåŠ¡å™¨ç±»å‹

| ç±»å‹ | æè¿° | ç¤ºä¾‹ | é…ç½®æ–¹å¼ |
|------|------|------|----------|
| **Local MCP** | æœ¬åœ°å¯åŠ¨çš„MCPæœåŠ¡å™¨ | Brave Search MCP | é€šè¿‡npxå¯åŠ¨è¿›ç¨‹ |
| **Remote MCP** | è¿œç¨‹HTTP API | Composio, Context7 | é…ç½®URLå’Œè®¤è¯å¤´ |
| **GitHub MCP** | GitHubé›†æˆçš„MCPæœåŠ¡ | GitHub Copilotç­‰ | OAuthè®¤è¯æµç¨‹ |

### 3.3 å·²çŸ¥çš„MCPæœåŠ¡å™¨

| æœåŠ¡å™¨å | åŠŸèƒ½ç‰¹ç‚¹ | å®‰è£…æ–¹å¼ | æ¨èåœºæ™¯ |
|----------|----------|----------|----------|
| **@brave/brave-search-mcp-server** | ç½‘é¡µæœç´¢åŠŸèƒ½ | npmå®‰è£… | é€šç”¨ç½‘ç»œæœç´¢ |
| **opencode-mcp-tool** | OpenCode CLIäº¤äº’ | npmå®‰è£… | å‘½ä»¤è¡Œé›†æˆ |
| **composio** | å¤šå·¥å…·é›†æˆå¹³å° | APIæ³¨å†Œ | é«˜çº§å·¥ä½œæµ |
| **context7-mcp** | æœ€æ–°ä»£ç æ–‡æ¡£è®¿é—® | npmå®‰è£… | å¼€å‘è€…æ–‡æ¡£ |
| **repomix** | ä»“åº“åˆ†æå·¥å…· | npmå®‰è£… | ä»£ç åº“ç ”ç©¶ |
| **octocode-mcp** | è¯­ä¹‰ä»£ç æœç´¢ | npmå®‰è£… | æ™ºèƒ½ä»£ç å‘ç° |

---

## 4. æŠ€æœ¯æ¶æ„åˆ†æ

### 4.1 æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OpenCode æ’ä»¶æ¶æ„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Obsidian     â”‚    â”‚  Local Server    â”‚    â”‚
â”‚  â”‚   Plugin       â”‚â”€â”€â”€â–¶â”‚  (Node.js)      â”‚â”€â”€â”€â–¶â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚ â”‚
â”‚  â”‚ â”‚ OpenCode    â”‚â”‚    â”‚ â”‚ Process     â”‚â”‚    â”‚ â”‚
â”‚  â”‚ â”‚ View        â”‚â”‚    â”‚ â”‚ Manager     â”‚â”‚    â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚ â”‚
â”‚  â”‚      iframe      â”‚    â”‚   Health      â”‚    â”‚ â”‚
â”‚  â”‚      åµŒå…¥       â”‚    â”‚   Check       â”‚    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                 â”‚    â”‚ â”‚
â”‚                          â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚ â”‚
â”‚                          â”‚    â””â”€â–¶â”‚  State      â”‚    â”‚ â”‚
â”‚                          â”‚      â”‚  Manager    â”‚    â”‚ â”‚
â”‚                          â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚                          â”‚                       â”‚    â”‚ â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    MCP ç”Ÿæ€ç³»ç»Ÿ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Brave Search   â”‚    â”‚  Context7     â”‚    â”‚
â”‚  â”‚  MCP Server     â”‚â”€â”€â”€â–¶â”‚  MCP Server   â”‚â”€â”€â”€â–¶â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                       â”‚    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Composio     â”‚    â”‚  Repomix      â”‚    â”‚
â”‚  â”‚  Platform      â”‚â”€â”€â”€â–¶â”‚  Tool         â”‚â”€â”€â”€â–¶â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                       â”‚    â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æ•°æ®æµåˆ†æ

```
ç”¨æˆ·è¯·æ±‚ â†’ Obsidianæ’ä»¶ â†’ OpenCodeæœåŠ¡å™¨ â†’ MCPå·¥å…· â†’ å·¥å…·æ‰§è¡Œ â†’ ç»“æœè¿”å› â†’ ç”¨æˆ·ç•Œé¢
    â”‚            â”‚              â”‚           â”‚          â”‚          â”‚          â”‚          â”‚
    â”‚            â”‚              â”‚           â”‚          â”‚          â”‚          â”‚
    â–¼            â–¼              â–¼           â–¼          â–¼          â–¼          â–¼
  ç”¨æˆ·è¾“å…¥   è¿›ç¨‹å¯åŠ¨    çŠ¶æ€ç®¡ç†   å·¥å…·è°ƒç”¨   å‚æ•°å¤„ç†   ç»“æœæ‰§è¡Œ   ç•Œé¢æ›´æ–°   å“åº”å‘ˆç°
```

### 4.3 æ ¸å¿ƒç»„ä»¶åˆ†æ

#### ProcessManager.ts
- **è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†**: å¯åŠ¨ã€ç›‘æ§ã€åœæ­¢
- **å¥åº·æ£€æŸ¥**: `/global/health` ç«¯ç‚¹éªŒè¯
- **ä¼˜é›…å…³é—­**: SIGTERM â†’ SIGKILL é™çº§å¤„ç†
- **é”™è¯¯å¤„ç†**: å®Œæ•´çš„è¿›ç¨‹é€€å‡ºæ£€æµ‹

#### OpenCodeView.ts  
- **iframeåµŒå…¥**: å®‰å…¨çš„webè§†å›¾å®¹å™¨
- **çŠ¶æ€åŒæ­¥**: å®æ—¶çš„çŠ¶æ€å˜åŒ–æ›´æ–°
- **å“åº”å¼UI**: åŸºäºçŠ¶æ€æ˜¾ç¤ºä¸åŒç•Œé¢

---

## 5. å·¥å…·æƒé™ç³»ç»Ÿ

### 5.1 æƒé™çº§åˆ«å®šä¹‰

| çº§åˆ« | è¡Œä¸º | å®‰å…¨æ€§ | é€‚ç”¨å·¥å…· |
|------|------|--------|----------|
| **allow** | ç›´æ¥æ‰§è¡Œï¼Œæ— éœ€ç¡®è®¤ | è¯»å–æ–‡ä»¶ã€åŸºç¡€æ“ä½œ |
| **ask** | éœ€è¦ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œ | Gitæ“ä½œã€MCPè°ƒç”¨ |
| **deny** | å®Œå…¨ç¦æ­¢æ‰§è¡Œ | ç³»ç»Ÿçº§å±é™©æ“ä½œ |

### 5.2 å½“å‰æƒé™é…ç½®

```json
{
  "permissions": {
    "allow": ["Read(*)", "Write(*.md)", "WebFetch(*)"],
    "ask": ["Bash(git push)", "Bash(npm install)"],
    "deny": ["Bash(sudo:*)", "Bash(rm -rf:*)", "Read(./.env/**)"],
    "mymcp_*": "ask"
  }
}
```

### 5.3 æƒé™æ§åˆ¶æœºåˆ¶

#### é€šé…ç¬¦æ”¯æŒ
- `Read(*)` - å…è®¸æ‰€æœ‰è¯»å–æ“ä½œ
- `Bash(git:*)` - åªæ§åˆ¶Gitç›¸å…³å‘½ä»¤
- `mymcp_*` - æ‰¹é‡æ§åˆ¶MCPå·¥å…·è°ƒç”¨

#### åŠ¨æ€æƒé™
- è¿è¡Œæ—¶æƒé™æ£€æŸ¥
- ç”¨æˆ·ç¡®è®¤å¯¹è¯æ¡†
- æƒé™ç»§æ‰¿å’Œè¦†ç›–

---

## 6. WebSearchå·¥å…·è¯¦è§£

### 6.1 WebSearch æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯å®ç° | åŠŸèƒ½ |
|------|----------|------|
| **æœç´¢å¼•æ“** | **Exa AI** | å®æ—¶ç½‘ç»œæœç´¢ |
| **APIæ¥å£** | Exa Search API | ç¼–ç¨‹å’Œé€šç”¨æœç´¢ |
| **ç¼“å­˜æœºåˆ¶** | æ™ºèƒ½ç¼“å­˜ | é¿å…é‡å¤æœç´¢ |
| **ç»“æœè¿‡æ»¤** | å¤šç»´åº¦è¿‡æ»¤ | æ—¶é—´ã€ç›¸å…³æ€§ã€æ¥æº |

### 6.2 WebSearch ä½¿ç”¨åœºæ™¯

```bash
# åŸºç¡€ç½‘ç»œæœç´¢
npx skills run websearch --query="yt-dlp tutorial 2025"

# ç¼–ç¨‹ç›¸å…³æœç´¢  
npx skills run codesearch --query="react hooks useEffect"

# æŠ€æœ¯æ–‡æ¡£æœç´¢
npx skills run websearch --query="ffmpeg video processing"
```

### 6.3 CodeSearch ä¸“ç”¨åŠŸèƒ½

| åŠŸèƒ½ | æè¿° | APIç«¯ç‚¹ |
|------|------|----------|
| **ä»£ç æœç´¢** | æŸ¥æ‰¾ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µ | `https://api.exa.ai/search` |
| **åº“æ–‡æ¡£** | è·å–æœ€æ–°çš„åº“æ–‡æ¡£å’Œç‰ˆæœ¬ä¿¡æ¯ | ç¼–ç¨‹ç›¸å…³æœç´¢ |
| **APIé›†æˆ** | ä¸ä¸»æµç¼–ç¨‹å¹³å°é›†æˆ | å®æ—¶å¼€å‘æ”¯æŒ |

---

## 7. æ‰©å±•ç”Ÿæ€ç³»ç»Ÿ

### 7.1 å®˜æ–¹æ‰©å±•ä»“åº“

| ä»“åº“ | URL | åŠŸèƒ½ç‰¹ç‚¹ |
|------|------|----------|
| **GitHubä¸»ä»“åº“** | https://github.com/opencode-ai/opencode | æ ¸å¿ƒå·¥å…·å’Œæ–‡æ¡£ |
| **NPMåŒ…** | https://www.npmjs.com/search?q=opencode | æŠ€èƒ½åŒ…åˆ†å‘ |
| **MCPæœåŠ¡å™¨åˆ—è¡¨** | https://lobehub.com | è®¤è¯çš„MCPæœåŠ¡å™¨ |

### 7.2 ç¤¾åŒºMCPæœåŠ¡å™¨

#### æ–°å…´MCPæœåŠ¡å™¨ (2025-2026)
- **Playwright MCP**: æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼Œæ”¯æŒæ— è§†è§‰æ¨¡å‹çš„ç½‘é¡µäº¤äº’
- **GitHub Copilot MCP**: å¾®è½¯çš„ä»£ç åŠ©æ‰‹é›†æˆ
- **Context7 MCP**: æœ€æ–°ä»£ç æ–‡æ¡£å’ŒAPIè®¿é—®
- **Repomix MCP**: æ™ºèƒ½ä»“åº“åˆ†æå’Œæ–‡ä»¶æ“ä½œ
- **Octocode MCP**: è¯­ä¹‰ä»£ç æœç´¢å’Œç†è§£

### 7.3 æŠ€èƒ½å’Œå·¥å…·åŒ…

| ç±»åˆ« | å¹³å° | ç¤ºä¾‹ |
|------|------|------|
| **YouTubeå‰ªè¾‘æŠ€èƒ½** | Skills.sh | youtube-clipper-skill |
| **æ–‡ä»¶å¤„ç†æŠ€èƒ½** | Skills.sh | å„ç§æ–‡ä»¶æ ¼å¼è½¬æ¢ |
| **Webè‡ªåŠ¨åŒ–æŠ€èƒ½** | Skills.sh | ç½‘é¡µæŠ“å–å’Œæ•°æ®å¤„ç† |
| **å¼€å‘å·¥å…·æŠ€èƒ½** | Skills.sh | é¡¹ç›®æ¨¡æ¿å’Œè„šæ‰‹æ¶ |

---

## 8. é…ç½®å»ºè®®

### 8.1 ç”Ÿäº§ç¯å¢ƒé…ç½®

```json
{
  "$schema": "https://opencode.ai/config.json",
  "model": "github-copilot/gpt-5.2",
  "experimental": {
    "githubCopilot": true
  },
  "permissions": {
    "allow": [
      "Read(*)",
      "Write(*.md)",
      "Write(*.txt)",
      "Write(*.json)",
      "Edit(*.md)",
      "Edit(*.txt)",
      "Edit(*.json)",
      "WebFetch(*)",
      "WebSearch(*)",
      "CodeSearch(*)",
      "Glob(*)",
      "Bash(git:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git diff)",
      "Bash(git log)",
      "Bash(git pull)",
      "Bash(git push)",
      "Bash(ls)",
      "Bash(pwd)",
      "Bash(find:*)",
      "Bash(grep:*)",
      "Bash(bun install)",
      "Bash(bun run build)",
      "Bash(bun run dev)",
      "Bash(bun test)",
      "Bash(node:*)",
      "Bash(npm:*)",
      "Bash(mkdir:*)",
      "Bash(rm:*)",
      "Bash(cp:*)",
      "Bash(mv:*)"
    ],
    "ask": [
      "Bash(git push)",
      "Bash(bun install)",
      "Bash(npm install)",
      "Bash(rm:*)"
    ],
    "deny": [
      "Read(./.env)",
      "Read(./.env.*)",
      "Read(./secrets/**)",
      "Read(./**/.git/**)",
      "Read(~/.ssh/**)",
      "Read(~/.aws/**)",
      "Read(~/.gnupg/**)",
      "Edit(./.env)",
      "Edit(./.env.*)",
      "Edit(./secrets/**)",
      "Edit(./**/.git/**)",
      "Edit(~/.ssh/**)",
      "Edit(~/.aws/**)",
      "Edit(~/.gnupg/**)",
      "Bash(rm -rf:*)",
      "Bash(sudo:*)",
      "Bash(su)",
      "Bash(chmod:*)",
      "Bash(chown:*)",
      "Bash(curl:*)",
      "Bash(wget:*)",
      "Bash(ssh:*)",
      "Bash(scp:*)",
      "Bash(rsync:*)"
    ]
  },
  "mcp": {
    "brave-search": {
      "type": "local",
      "command": ["npx", "-y", "@brave/brave-search-mcp-server"],
      "enabled": true,
      "timeout": 30000,
      "environment": {
        "BRAVE_API_KEY": "{env:BRAVE_API_KEY}"
      }
    },
    "context7": {
      "type": "remote",
      "url": "https://api.context7.io/mcp",
      "enabled": true,
      "timeout": 60000
    }
  },
  "fileSuggestion": {
    "type": "builtin"
  },
  "language": "chinese"
}
```

### 8.2 å¼€å‘ç¯å¢ƒé…ç½®

```json
{
  "permissions": {
    "edit": "allow",
    "bash": "allow", 
    "webfetch": "allow",
    "mymcp_*": "allow"
  },
  "env": {
    "CLAUDE_CODE_ENABLE_TELEMETRY": "0",
    "DISABLE_TELEMETRY": "1",
    "DISABLE_AUTOUPDATER": "1",
    "DISABLE_ERROR_REPORTING": "1"
  }
}
```

### 8.3 MCPæœåŠ¡å™¨æœ€ä½³å®è·µ

#### æœ¬åœ°MCPæœåŠ¡å™¨
```bash
# æ¨èçš„å¯åŠ¨æ–¹å¼
npx -y @mcp-server/package

# é…ç½®ç¯å¢ƒå˜é‡
export MCP_SERVER_API_KEY="your_api_key"

# æƒé™æ§åˆ¶
"mymcp_*": "ask"  # éœ€è¦ç¡®è®¤çš„MCPè°ƒç”¨
```

#### è¿œç¨‹MCPæœåŠ¡å™¨
```bash
# APIè®¤è¯å¤´é…ç½®
"headers": {
  "x-api-key": "your_api_key",
  "authorization": "Bearer token"
}

# è¶…æ—¶è®¾ç½®
"timeout": 60000

# é‡è¯•æœºåˆ¶
"retries": 3,
"retry_delay": 1000
```

---

## ğŸ” æ€»ç»“

### OpenCode æ ¸å¿ƒä¼˜åŠ¿

1. **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„å·¥å…·åˆ†ç±»å’Œæƒé™ç³»ç»Ÿ
2. **MCPç”Ÿæ€**: ä¸°å¯Œçš„ç¬¬ä¸‰æ–¹å·¥å…·é›†æˆèƒ½åŠ›
3. **å®‰å…¨ç¬¬ä¸€**: ç»†ç²’åº¦çš„æƒé™æ§åˆ¶æœºåˆ¶
4. **æ‰©å±•æ€§å¼º**: æ”¯æŒè‡ªå®šä¹‰å·¥å…·å’ŒMCPæœåŠ¡å™¨
5. **å®æ—¶æ€§**: çŠ¶æ€åŒæ­¥å’Œå®æ—¶UIæ›´æ–°

### æ¨èçš„ä½¿ç”¨ç­–ç•¥

1. **æ¸è¿›å¼æƒé™æ§åˆ¶**: ä»`allow`å¼€å§‹ï¼ŒæŒ‰éœ€è°ƒæ•´åˆ°`ask`
2. **é€‰æ‹©æ€§MCPé›†æˆ**: æ ¹æ®å·¥ä½œæµéœ€è¦é€‰æ‹©åˆé€‚çš„MCPæœåŠ¡å™¨
3. **å·¥å…·ç»„åˆä½¿ç”¨**: ç»“åˆå†…ç½®å·¥å…·å’ŒMCPå·¥å…·æ„å»ºå®Œæ•´å·¥ä½œæµ
4. **å®šæœŸé…ç½®å®¡æŸ¥**: æ ¹æ®ä½¿ç”¨æƒ…å†µä¼˜åŒ–æƒé™å’Œé…ç½®

---

*åˆ†ææŠ¥å‘Šç‰ˆæœ¬: v1.0*  
*æœ€åæ›´æ–°: 2026-01-25*